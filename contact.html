<!DOCTYPE HTML>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Contact</title>

    <link rel="stylesheet" href="/public/css/contact.css">

  </head>

<body>

     <div class = "logo">

	 <span class = "picture"><img src = "/main.jpg" width = "398" height = "137" > </span>

	 <div class = "text">

     <div><a href = "/contact" >Contact</a></div>

     <div><ul class = "menu"><li class="service"><a href = "/" >Services</a>

       <ul class="submenu">
              <li><a href=#>Sudmenu 1</a></li>
              <li><a href=#>Sudmenu 1</a></li>
              <li><a href=#>Sudmenu 1</a></li>
        </ul>

    </li></ul></div>

     <div><a href = "/about" >About</a></div> <div> <a href = "/" >Home</a></div>

	 </div>

	 </div>

	 <div></div>

	 <hr>

  <div class = "about">

   <p class = "contact"> <img src = "/log.png" width = "200" height = "23" ></p>
   <p class = "contact1"> Send a Message to admin </p>
   <form id = "myForm" name = "myForm" method = "post" action = "/email">

     <div>
             <label>Your Subject (required) : </label>
             <input type = "text" name = "subject" id = "subject" placeholder = "Enter your subject" autocomplete="off" onclick="offBorderSubject()">
     </div>
     <br></br>
     <div class = "info">
             <label>Your Name (required) : </label>
             <input type = "text" name = "name" id = "name" placeholder = "Enter your name" autocomplete="off" onclick="offBorderName()">
     </div>
           <br></br>
     <div class = "info">
             <label>Your Email (required) : </label>
             <input type="text" name = "email" id = "email" placeholder = "Email" onclick="offBorderEmail()">
     </div>

      <br><br>

     <div class = "info">
       <label>Your Message : </label>
       <textarea name="message" id = "message" rows="5" cols="80" placeholder = "Write a message" onclick="offBorderMessage()"></textarea>
     </div>

     <br></br>
     <div class="send">
     <input type = "submit" id = "submit" value="Send"> <div id = "result" style = "margin-right: 35%; float : right; padding : 0; margin-top : -15px"></div>
     </div>
   </form>
  </div>


  <script>
   function checkForm()
   {
     if(document.myForm.subject.value == '')
     {
       document.getElementById('subject').style.border = '1px solid red';
       return false;
     }
     if(document.myForm.name.value == '')
     {
       document.getElementById('name').style.border = '1px solid red';
       return false;
     }

     var y = document.getElementById('email').value;
     at = y.indexOf("@");
     dot = y.indexOf(".");

     if( at < 1 || dot < 1 )
     {
       document.getElementById('email').style.border = '1px solid red';
       return false;
     }

     if(document.myForm.message.value == '')
     {
       document.getElementById('message').style.border = '1px solid red';
       return false;
     }


     return true;
   }

  </script>


  <script>
  function offBorderSubject()
  {
     document.getElementById('subject').style.border = '1px solid grey';
  }
  function offBorderName()
  {
     document.getElementById('name').style.border = '1px solid grey';
  }
  function offBorderEmail()
  {
     document.getElementById('email').style.border = '1px solid grey';
  }
  function offBorderMessage()
  {
     document.getElementById('message').style.border = '1px solid grey';
  }
  </script>



  <script>
  $(function () {
  $("#myForm").submit(function (event) {
    /////////////проверка формы
    var subject = document.getElementById('subject').value;
    if(subject == '')
    {
      document.getElementById('subject').style.border = '1px solid red';
      return false;
    }
    var name = document.getElementById('name').value;
    if(name == '')
    {
      document.getElementById('name').style.border = '1px solid red';
      return false;
    }
    var email = document.getElementById('email').value;
    if(email == '')
    {
      document.getElementById('email').style.border = '1px solid red';
      return false;
    }
    var message = document.getElementById('message').value;
    if(message == '')
    {
      document.getElementById('message').style.border = '1px solid red';
      return false;
    }
    ///////////////////////////
    event.preventDefault();
    $.post("/email", $(this).serialize());
    document.getElementById("result").innerHTML = "Message sent to admin";
    setTimeout(function(){ $('#result').hide(); }, 5000);
    setTimeout(function(){ $('#result').show(); }, 2000);
  })

  })
  </script>

</body>

</html>
